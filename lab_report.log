Лабораторная работа 1: Файловые системы Unix-подобных ОС.
Сербиновский Юрий гр. 3344

kisyamane@Ubuntu:~/os$ who && date
kisyamane seat0        2025-03-21 23:36 (login screen)
kisyamane tty2         2025-03-21 23:36 (tty2)
Вс 23 мар 2025 01:55:44 MSK

kisyamane@Ubuntu:~/os$ uname -a && date
Linux Ubuntu 6.11.0-17-generic #17~24.04.2-Ubuntu SMP PREEMPT_DYNAMIC Mon Jan 20 22:48:29 UTC 2 x86_64 x86_64 x86_64 GNU/Linux
Вс 23 мар 2025 01:55:44 MSK

kisyamane@Ubuntu:~/os$ lscpu && date
Архитектура:                          x86_64
CPU op-mode(s):                       32-bit, 64-bit
Address sizes:                        39 bits physical, 48 bits virtual
Порядок байт:                         Little Endian
CPU(s):                               4
On-line CPU(s) list:                  0-3
ID прроизводителя:                    GenuineIntel
Имя модели:                           12th Gen Intel(R) Core(TM) i5-1235U
Семейство ЦПУ:                        6
Модель:                               154
Потоков на ядро:                      1
Ядер на сокет:                        4
Сокетов:                              1
Степпинг:                             4
BogoMIPS:                             4991,99
Флаги:                                fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 movbe popcnt aes rdrand hypervisor lahf_lm abm 3dnowprefetch ibrs_enhanced fsgsbase bmi1 bmi2 invpcid rdseed adx clflushopt sha_ni arat md_clear flush_l1d arch_capabilities
Разработчик гипервизора:              KVM
Тип виртуализации:                    полный
L1d cache:                            192 KiB (4 instances)
L1i cache:                            128 KiB (4 instances)
L2 cache:                             5 MiB (4 instances)
L3 cache:                             48 MiB (4 instances)
NUMA node(s):                         1
NUMA node0 CPU(s):                    0-3
Vulnerability Gather data sampling:   Not affected
Vulnerability Itlb multihit:          Not affected
Vulnerability L1tf:                   Not affected
Vulnerability Mds:                    Not affected
Vulnerability Meltdown:               Not affected
Vulnerability Mmio stale data:        Not affected
Vulnerability Reg file data sampling: Vulnerable: No microcode
Vulnerability Retbleed:               Mitigation; Enhanced IBRS
Vulnerability Spec rstack overflow:   Not affected
Vulnerability Spec store bypass:      Vulnerable
Vulnerability Spectre v1:             Mitigation; usercopy/swapgs barriers and __user pointer sanitization
Vulnerability Spectre v2:             Mitigation; Enhanced / Automatic IBRS; RSB filling; PBRSB-eIBRS SW sequence; BHI SW loop, KVM SW loop
Vulnerability Srbds:                  Not affected
Vulnerability Tsx async abort:        Not affected
Вс 23 мар 2025 01:55:44 MSK

# Задание 1

kisyamane@Ubuntu:~/os$ date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[-]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[b]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[c]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[d]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[l]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:44 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[p]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:46 MSK
kisyamane@Ubuntu:~/os$ ls -lR / 2>/dev/null | grep -E "^[s]" -m 1 | awk '{print $1, "/"$NF}' >> out.txt && date
Вс 23 мар 2025 01:55:48 MSK
kisyamane@Ubuntu:~/os$ cat out.txt && date
-rw-r--r-- /config-6.11.0-17-generic
brw-rw---- /loop0
crw-r--r-- /autofs
drwxr-xr-x /bin.usr-is-merged
lrwxrwxrwx /usr/bin
prw------- /initctl
srw-rw-rw- /snapd-snap.socket
Вс 23 мар 2025 01:55:48 MSK
kisyamane@Ubuntu:~/os$ bash task1.sh out.txt && date
Вс 23 мар 2025 01:55:48 MSK
kisyamane@Ubuntu:~/os$ cat out.txt && date
-rw-r--r-- /config-6.11.0-17-generic
brw-rw---- /loop0
crw-r--r-- /autofs
drwxr-xr-x /bin.usr-is-merged
lrwxrwxrwx /usr/bin
Вс 23 мар 2025 01:55:49 MSK

# Задание 2

kisyamane@Ubuntu:~/os$ bash task2.sh out.txt && date
Поиск жёстких ссылок на файл: /home/kisyamane/leti/os/out.txt (inode: 917848)
Способ 1: Использование ls и awk
917848 -rw-rw-r-- 3 kisyamane kisyamane   124 мар 23 01:55 out.txt
917848 -rw-rw-r-- 3 kisyamane kisyamane  124 мар 23 01:55 link1
917848 -rw-rw-r-- 3 kisyamane kisyamane 124 мар 23 01:55 link2
Способ 2: Использование ls и grep
917848 -rw-rw-r-- 3 kisyamane kisyamane   124 мар 23 01:55 out.txt
917848 -rw-rw-r-- 3 kisyamane kisyamane  124 мар 23 01:55 link1
917848 -rw-rw-r-- 3 kisyamane kisyamane 124 мар 23 01:55 link2
Вс 23 мар 2025 01:56:18 MSK

# Задание 3

kisyamane@Ubuntu:~/os$ touch l.txt && date
touch: невозможно выполнить touch для 'l.txt': Отказано в доступе
kisyamane@Ubuntu:~/os$ ln -s l.txt s1 && date
ln: не удалось создать символьную ссылку 's1': Файл существует
kisyamane@Ubuntu:~/os$ cp -s l.txt s2 && date
cp: невозможно создать символьную ссылку 's2' на 'l.txt': Файл существует
kisyamane@Ubuntu:~/os$ link l.txt s3 && date
link: невозможно создать ссылку 's3' на 'l.txt': Файл существует
kisyamane@Ubuntu:~/os$ bash task3.sh l.txt && date
Поиск символьных ссылок на файл /home/kisyamane/leti/os/l.txt
/home/kisyamane/leti/os/s2
/home/kisyamane/leti/os/s1
Всего символических ссылок: 2
Вс 23 мар 2025 01:56:19 MSK

# Задание 4

kisyamane@Ubuntu:~/os$ bash task4.sh l.txt && date
Способ 1: Использование find с lname
/home/kisyamane/leti/os/s2
/home/kisyamane/leti/os/s1
Способ 2: Использование ls и grep
lrwxrwxrwx 1 root      root          5 мар 23 01:47 s1 -> l.txt
lrwxrwxrwx 1 root      root          5 мар 23 01:47 s2 -> l.txt
Вс 23 мар 2025 01:56:48 MSK

# Задание 5

kisyamane@Ubuntu:~/os$ find / -type f 2>/dev/null | head -n 10 && date
/snap/README
/snap/firmware-updater/167/bin/data/flutter_assets/AssetManifest.bin
/snap/firmware-updater/167/bin/data/flutter_assets/AssetManifest.json
/snap/firmware-updater/167/bin/data/flutter_assets/FontManifest.json
/snap/firmware-updater/167/bin/data/flutter_assets/NOTICES.Z
/snap/firmware-updater/167/bin/data/flutter_assets/assets/firmware-updater-app.desktop
/snap/firmware-updater/167/bin/data/flutter_assets/assets/firmware-updater.desktop
/snap/firmware-updater/167/bin/data/flutter_assets/fonts/MaterialIcons-Regular.otf
/snap/firmware-updater/167/bin/data/flutter_assets/packages/handy_window/assets/handy-window-dark.css
/snap/firmware-updater/167/bin/data/flutter_assets/packages/handy_window/assets/handy-window.css
Вс 23 мар 2025 01:57:11 MSK
kisyamane@Ubuntu:~/os$ find / -type b 2>/dev/null  | head -n 5 && date
/run/systemd/inaccessible/blk
/dev/loop0
/dev/loop1
/dev/loop2
/dev/loop3
Вс 23 мар 2025 01:57:23 MSK
kisyamane@Ubuntu:~/os$ find / -type c 2>/dev/null  | head -n 5 && date
/snap/core22/1748/dev/null
/snap/core22/1748/dev/random
/snap/core22/1748/dev/urandom
/snap/core22/1748/dev/zero
/snap/core20/2496/dev/null
Вс 23 мар 2025 01:57:33 MSK
kisyamane@Ubuntu:~/os$ find / -type d 2>/dev/null  | head -n 5 && date
/
/snap
/snap/firmware-updater
/snap/firmware-updater/167
/snap/firmware-updater/167/bin
Вс 23 мар 2025 01:57:33 MSK
kisyamane@Ubuntu:~/os$ find / -type l 2>/dev/null  | head -n 5 && date
/snap/firmware-updater/current
/snap/snapd-desktop-integration/current
/snap/snapd-desktop-integration/253/usr/lib/x86_64-linux-gnu/libsnapd-glib-2.so.1
/snap/core22/1748/bin
/snap/core22/1748/etc/apparmor/init/network-interface-security/sbin.dhclient
Вс 23 мар 2025 01:57:33 MSK
kisyamane@Ubuntu:~/os$ find / -type p 2>/dev/null  | head -n 5 && date
/run/systemd/inaccessible/fifo
/run/systemd/sessions/2.ref
/run/systemd/inhibit/1.ref
/run/systemd/inhibit/2.ref
/run/systemd/inhibit/3.ref
Вс 23 мар 2025 01:57:40 MSK
kisyamane@Ubuntu:~/os$ find / -type s 2>/dev/null  | head -n 5 && date
/run/udev/control
/run/systemd/inaccessible/sock
/run/systemd/notify
/run/systemd/private
/run/systemd/userdb/io.systemd.DynamicUser
Вс 23 мар 2025 01:57:53 MSK

# Задание 6

kisyamane@Ubuntu:~/os$ echo "Hello, world!" >> a.txt && date
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ od a.txt && date
0000000 062510 066154 026157 073440 071157 062154 005041 062510
0000020 066154 026157 073440 071157 062154 005041 062510 066154
0000040 026157 073440 071157 062154 005041 062510 066154 026157
0000060 073440 071157 062154 005041
0000070
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ od -c a.txt && date
0000000   H   e   l   l   o   ,       w   o   r   l   d   !  \n   H   e
0000020   l   l   o   ,       w   o   r   l   d   !  \n   H   e   l   l
0000040   o   ,       w   o   r   l   d   !  \n   H   e   l   l   o   ,
0000060       w   o   r   l   d   !  \n
0000070
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ hexdump -C a.txt && date
00000000  48 65 6c 6c 6f 2c 20 77  6f 72 6c 64 21 0a 48 65  |Hello, world!.He|
00000010  6c 6c 6f 2c 20 77 6f 72  6c 64 21 0a 48 65 6c 6c  |llo, world!.Hell|
00000020  6f 2c 20 77 6f 72 6c 64  21 0a 48 65 6c 6c 6f 2c  |o, world!.Hello,|
00000030  20 77 6f 72 6c 64 21 0a                           | world!.|
00000038
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ mkdir test_dir && date
mkdir: невозможно создать каталог «test_dir»: Файл существует
kisyamane@Ubuntu:~/os$ sudo od /dev/loop0 | head -n 5 && date
0000000 071550 071561 000035 000000 036213 054570 000000 000002
0000020 000001 000000 000004 000021 001300 000001 000004 000000
0000040 001600 000000 000000 000000 001670 000000 000000 000000
0000060 001660 000000 000000 000000 177777 177777 177777 177777
0000100 000322 000000 000000 000000 000740 000000 000000 000000
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ sudo od /dev/fb0 | head -n 5 && date
0000000 000000 000000 000000 000000 000000 000000 000000 000000
*
17500000
Вс 23 мар 2025 01:57:53 MSK

# Задание 7

kisyamane@Ubuntu:~/os$ bash task7.sh && date
Создан каталог mydir.
Начальный размер каталога:
4,0K	mydir
Добавлено 10 файлов.
44K	mydir
Удалено 10 файлов.
4,0K	mydir
Добавлен подкаталог subdir.
8,0K	mydir
Удален подкаталог subdir.
4,0K	mydir
Каталог mydir удален.
Вс 23 мар 2025 01:57:53 MSK

# Задание 8

kisyamane@Ubuntu:~/os$ ls -l /etc/passwd && date
-rw-r--r-- 1 root root 2990 мар 14 22:20 /etc/passwd
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ ls -l /etc/shadow && date
-rw-r----- 1 root shadow 1390 мар 22 20:27 /etc/shadow
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ ls -l usr/bin/passwd && date
ls: невозможно получить доступ к 'usr/bin/passwd': Нет такого файла или каталога
kisyamane@Ubuntu:~/os$ cat /etc/passwd && date
root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/run/ircd:/usr/sbin/nologin
_apt:x:42:65534::/nonexistent:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-network:x:998:998:systemd Network Management:/:/usr/sbin/nologin
systemd-timesync:x:996:996:systemd Time Synchronization:/:/usr/sbin/nologin
dhcpcd:x:100:65534:DHCP Client Daemon,,,:/usr/lib/dhcpcd:/bin/false
messagebus:x:101:101::/nonexistent:/usr/sbin/nologin
syslog:x:102:102::/nonexistent:/usr/sbin/nologin
systemd-resolve:x:991:991:systemd Resolver:/:/usr/sbin/nologin
uuidd:x:103:103::/run/uuidd:/usr/sbin/nologin
usbmux:x:104:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin
tss:x:105:105:TPM software stack,,,:/var/lib/tpm:/bin/false
systemd-oom:x:990:990:systemd Userspace OOM Killer:/:/usr/sbin/nologin
kernoops:x:106:65534:Kernel Oops Tracking Daemon,,,:/:/usr/sbin/nologin
whoopsie:x:107:109::/nonexistent:/bin/false
dnsmasq:x:999:65534:dnsmasq:/var/lib/misc:/usr/sbin/nologin
avahi:x:108:111:Avahi mDNS daemon,,,:/run/avahi-daemon:/usr/sbin/nologin
tcpdump:x:109:112::/nonexistent:/usr/sbin/nologin
sssd:x:110:113:SSSD system user,,,:/var/lib/sss:/usr/sbin/nologin
speech-dispatcher:x:111:29:Speech Dispatcher,,,:/run/speech-dispatcher:/bin/false
cups-pk-helper:x:112:114:user for cups-pk-helper service,,,:/nonexistent:/usr/sbin/nologin
fwupd-refresh:x:989:989:Firmware update daemon:/var/lib/fwupd:/usr/sbin/nologin
saned:x:113:116::/var/lib/saned:/usr/sbin/nologin
geoclue:x:114:117::/var/lib/geoclue:/usr/sbin/nologin
cups-browsed:x:115:114::/nonexistent:/usr/sbin/nologin
hplip:x:116:7:HPLIP system user,,,:/run/hplip:/bin/false
gnome-remote-desktop:x:988:988:GNOME Remote Desktop:/var/lib/gnome-remote-desktop:/usr/sbin/nologin
polkitd:x:987:987:User for polkitd:/:/usr/sbin/nologin
rtkit:x:117:119:RealtimeKit,,,:/proc:/usr/sbin/nologin
colord:x:118:120:colord colour management daemon,,,:/var/lib/colord:/usr/sbin/nologin
gnome-initial-setup:x:119:65534::/run/gnome-initial-setup/:/bin/false
gdm:x:120:121:Gnome Display Manager:/var/lib/gdm3:/bin/false
nm-openvpn:x:121:122:NetworkManager OpenVPN,,,:/var/lib/openvpn/chroot:/usr/sbin/nologin
kisyamane:x:1000:1000:kisyamane:/home/kisyamane:/bin/bash
user1:x:1001:1001::/home/user1:/bin/sh
user2:x:1002:1002::/home/user2:/bin/sh
user3:x:1003:1003::/home/user3:/bin/sh
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ cat /etc/shadow && date
cat: /etc/shadow: Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ passwd
Смена пароля для kisyamane.
Текущий пароль: 
Новый пароль: 
НЕУДАЧНЫЙ ПАРОЛЬ: Пароль идентичен предыдущему
Новый пароль: 
НЕУДАЧНЫЙ ПАРОЛЬ: Пароль отличается лишь регистром символов
Новый пароль: 
Повторите ввод нового пароля: 
passwd: пароль успешно обновлён

# Задание 9.1

kisyamane@Ubuntu:~/os$ mkdir testdir && date
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ touch testdir/file1 testdir/file2 testdir/file3 && date
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ chmod u+x testdir/file1 && date
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rwxrw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ chmod 777 testdir/file1 && date
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rwxrwxrwx 1 kisyamane kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:53 MSK
kisyamane@Ubuntu:~/os$ sudo chown user1 testdir/file1 && date
Вс 23 мар 2025 01:57:54 MSK
kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rwxrwxrwx 1 user1     kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:54 MSK

# Задание 9.2

kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rwxrwxrwx 1 user1     kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:54 MSK
kisyamane@Ubuntu:~/os$ sudo chmod u+s testdir/file1 && date
Вс 23 мар 2025 01:57:54 MSK
kisyamane@Ubuntu:~/os$ ls -l testdir && date
итого 0
-rwsrwxrwx 1 user1     kisyamane 0 мар 23 01:57 file1
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file2
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 01:57 file3
Вс 23 мар 2025 01:57:54 MSK
kisyamane@Ubuntu:~/os$ rm -rf testdir

# Задание 9.3

kisyamane@Ubuntu:~/leti/os$ mkdir testdir && date
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os$ touch testdir/file && date
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os$ cd testdir/ && date
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ ls -l && date
итого 0
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 02:30 file
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ chmod 640 file && date
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ ls -l && date
итого 0
-rw-r----- 1 kisyamane kisyamane 0 мар 23 02:30 file
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ cat file && date
Вс 23 мар 2025 02:30:33 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ sudo useradd testuser && date
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ sudo usermod -aG kisyamane testuser && date
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ sudo -u testuser cat file && date
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ sudo useradd anotheruser && date
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ sudo -u anotheruser cat file && date
cat: file: Отказано в доступе
Вс 23 мар 2025 02:30:34 MSK

kisyamane@Ubuntu:~/leti/os/testdir$ echo "test" > file && date
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ echo "test" | sudo -u testuser tee -a test && date
tee: test: Отказано в доступе
Вс 23 мар 2025 02:30:34 MSK
kisyamane@Ubuntu:~/leti/os/testdir$ echo "test" | sudo -u anotheruser tee -a test && date
tee: test: Отказано в доступе
Вс 23 мар 2025 02:30:34 MSK

# Задание 9.4

kisyamane@Ubuntu:~/leti/os$ mkdir testdir && date
Вс 23 мар 2025 02:36:39 MSK
kisyamane@Ubuntu:~/leti/os$ touch testdir/testfile && date
Вс 23 мар 2025 02:36:57 MSK
kisyamane@Ubuntu:~/leti/os$ chmod 600 testdir && date
Вс 23 мар 2025 02:37:05 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l && date
итого 1
drw------- 2 kisyamane kisyamane  4096 мар 23 02:36 testdir
Вс 23 мар 2025 02:37:16 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l testdir/
ls: невозможно получить доступ к 'testdir/testfile': Отказано в доступе
итого 0
-????????? ? ? ? ?            ? testfile
kisyamane@Ubuntu:~/leti/os$ cd testdir
bash: cd: testdir: Отказано в доступе
   
kisyamane@Ubuntu:~/leti/os$ cat testdir/testfile 
cat: testdir/testfile: Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ chmod 711 testdir && date
Вс 23 мар 2025 02:43:24 MSK
kisyamane@Ubuntu:~/leti/os$ ls -ld
drwxrwxr-x 5 kisyamane kisyamane 4096 мар 23 02:36 .
kisyamane@Ubuntu:~/leti/os$ ls -l && date
итого 1
drwx--x--x 2 kisyamane kisyamane  4096 мар 23 02:36 testdir
Вс 23 мар 2025 02:44:20 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l testdir/ && date
итого 0
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 02:36 testfile
Вс 23 мар 2025 02:44:26 MSK
kisyamane@Ubuntu:~/leti/os$ sudo -u testuser ls -l testdir && date
[sudo] пароль для kisyamane: 
ls: невозможно открыть каталог 'testdir': Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ sudo -u testuser cat testdir/testfile && date 
Вс 23 мар 2025 02:46:28 MSK
kisyamane@Ubuntu:~/leti/os$ sudo -u anotheruser cat testdir/testfile && date 
Вс 23 мар 2025 02:47:05 MSK
kisyamane@Ubuntu:~/leti/os$ chmod 555 testdir && date 
Вс 23 мар 2025 02:47:23 MSK

kisyamane@Ubuntu:~/leti/os$ ls -l && date
итого 1
dr-xr-xr-x 2 kisyamane kisyamane  4096 мар 23 02:36 testdir
Вс 23 мар 2025 02:51:33 MSK
kisyamane@Ubuntu:~/leti/os$ sudo -u testuser ls -l testdir && date
итого 0
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 02:36 testfile
Вс 23 мар 2025 02:52:12 MSK
kisyamane@Ubuntu:~/leti/os$ sudo -u anotheruser ls -l testdir && date
итого 0
-rw-rw-r-- 1 kisyamane kisyamane 0 мар 23 02:36 testfile
Вс 23 мар 2025 02:52:40 MSK
kisyamane@Ubuntu:~/leti/os$ mv testdir/testfile / && date
mv: невозможно переместить 'testdir/testfile' в '/testfile': Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ mv -u testuser testdir/testfile / && date
mv: невозможно переместить 'testdir/testfile' в '/testfile': Отказано в доступе

kisyamane@Ubuntu:~/leti/os$ chmod 000 testdir && date
Вс 23 мар 2025 02:54:56 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l && date
итого 1
d--------- 2 kisyamane kisyamane  4096 мар 23 02:36 testdir
Вс 23 мар 2025 02:56:50 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l testdir && date
ls: невозможно открыть каталог 'testdir': Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ cd testdir && date
bash: cd: testdir: Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ chmod 755 testdir && date
Вс 23 мар 2025 02:57:49 MSK
kisyamane@Ubuntu:~/leti/os$ ls -l && date
итого 1
drwxr-xr-x 2 kisyamane kisyamane  4096 мар 23 02:36 testdir
Вс 23 мар 2025 02:58:05 MSK


# Задание 10

kisyamane@Ubuntu:~/leti/os$ date
Вс 23 мар 2025 23:13:50 MSK
kisyamane@Ubuntu:~/leti/os$ su testuser 
Пароль: 
su: Сбой при проверке подлинности
kisyamane@Ubuntu:~/leti/os$ su testuser 
Пароль: 
$ echo "secret info" > secret_file
$ ls -l secret_file && date
-rw-rw-r-- 1 testuser testuser 12 мар 23 23:14 secret_file
Вс 23 мар 2025 23:15:31 MSK
$ chmod 440 secret_file && date
Вс 23 мар 2025 23:15:52 MSK
$ ls -l secret_file && date
-r--r----- 1 testuser testuser 12 мар 23 23:14 secret_file
Вс 23 мар 2025 23:16:00 MSK
$ gcc -o gateway gateway.c
$ ls -l gateway gateway.c secret_file && date
-rwxrwxr-x 1 testuser  testuser  16232 мар 23 23:16 gateway
-rw-rw-r-- 1 kisyamane kisyamane  1567 мар 23 23:04 gateway.c
-r--r----- 1 testuser  testuser     12 мар 23 23:14 secret_file
Вс 23 мар 2025 23:17:07 MSK
$ chmod 111 gateway && date
Вс 23 мар 2025 23:18:19 MSK
$ chmod u+s gateway
$ date
Вс 23 мар 2025 23:18:37 MSK
$ ls -l gateway && date
---s--x--x 1 testuser testuser 16232 мар 23 23:16 gateway
Вс 23 мар 2025 23:18:57 MSK
$ exit
kisyamane@Ubuntu:~/leti/os$ ls -l gateway secret_file && date
---s--x--x 1 testuser testuser 16232 мар 23 23:16 gateway
-r--r----- 1 testuser testuser    12 мар 23 23:14 secret_file
Вс 23 мар 2025 23:20:34 MSK
kisyamane@Ubuntu:~/leti/os$ cat secret_file && date
cat: secret_file: Отказано в доступе
kisyamane@Ubuntu:~/leti/os$ ./gateway secret_file && date
./gateway: Файл 'secret_file' успешно открыт
secret info
Вс 23 мар 2025 23:21:49 MSK
kisyamane@Ubuntu:~/leti/os$ groups testuser && date
testuser : testuser kisyamane
Вс 23 мар 2025 23:24:09 MSK
kisyamane@Ubuntu:~/leti/os$ sudo usermod -aG testuser anotheruser && date
Вс 23 мар 2025 23:25:01 MSK
kisyamane@Ubuntu:~/leti/os$ sudo -u anotheruser cat secret_file  && date
secret info
Вс 23 мар 2025 23:26:05 MSK

# Задание 11

kisyamane@Ubuntu:~/leti/os$ date
Пн 24 мар 2025 01:22:59 MSK

# Задание 11.1

kisyamane@Ubuntu:~/leti/os$ df -T -h && date
Файл.система   Тип   Размер Использовано  Дост Использовано% Cмонтировано в
tmpfs          tmpfs   392M         1,6M  390M            1% /run
/dev/sda2      ext4     25G         8,1G   16G           35% /
tmpfs          tmpfs   2,0G          23M  1,9G            2% /dev/shm
tmpfs          tmpfs   5,0M         8,0K  5,0M            1% /run/lock
tmpfs          tmpfs   392M         124K  392M            1% /run/user/1000
Пн 24 мар 2025 01:24:01 MSK

kisyamane@Ubuntu:~/leti/os$ mount && date
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime)
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime)
udev on /dev type devtmpfs (rw,nosuid,relatime,size=1966756k,nr_inodes=491689,mode=755,inode64)
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000)
tmpfs on /run type tmpfs (rw,nosuid,nodev,noexec,relatime,size=400892k,mode=755,inode64)
/dev/sda2 on / type ext4 (rw,relatime)
securityfs on /sys/kernel/security type securityfs (rw,nosuid,nodev,noexec,relatime)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev,inode64)
tmpfs on /run/lock type tmpfs (rw,nosuid,nodev,noexec,relatime,size=5120k,inode64)
cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursiveprot)
pstore on /sys/fs/pstore type pstore (rw,nosuid,nodev,noexec,relatime)
bpf on /sys/fs/bpf type bpf (rw,nosuid,nodev,noexec,relatime,mode=700)
systemd-1 on /proc/sys/fs/binfmt_misc type autofs (rw,relatime,fd=32,pgrp=1,timeout=0,minproto=5,maxproto=5,direct,pipe_ino=1604)
mqueue on /dev/mqueue type mqueue (rw,nosuid,nodev,noexec,relatime)
debugfs on /sys/kernel/debug type debugfs (rw,nosuid,nodev,noexec,relatime)
hugetlbfs on /dev/hugepages type hugetlbfs (rw,nosuid,nodev,relatime,pagesize=2M)
tracefs on /sys/kernel/tracing type tracefs (rw,nosuid,nodev,noexec,relatime)
configfs on /sys/kernel/config type configfs (rw,nosuid,nodev,noexec,relatime)
fusectl on /sys/fs/fuse/connections type fusectl (rw,nosuid,nodev,noexec,relatime)
/var/lib/snapd/snaps/core20_2496.snap on /snap/core20/2496 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/bare_5.snap on /snap/bare/5 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/code_186.snap on /snap/code/186 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/core22_1748.snap on /snap/core22/1748 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firefox_5889.snap on /snap/firefox/5889 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firmware-updater_167.snap on /snap/firmware-updater/167 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gnome-42-2204_202.snap on /snap/gnome-42-2204/202 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/gtk-common-themes_1535.snap on /snap/gtk-common-themes/1535 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snap-store_1248.snap on /snap/snap-store/1248 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23545.snap on /snap/snapd/23545 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd-desktop-integration_253.snap on /snap/snapd-desktop-integration/253 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/snapd_23771.snap on /snap/snapd/23771 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
/var/lib/snapd/snaps/firefox_5751.snap on /snap/firefox/5751 type squashfs (ro,nodev,relatime,errors=continue,threads=single,x-gdu.hide,x-gvfs-hide)
binfmt_misc on /proc/sys/fs/binfmt_misc type binfmt_misc (rw,nosuid,nodev,noexec,relatime)
tmpfs on /run/snapd/ns type tmpfs (rw,nosuid,nodev,noexec,relatime,size=400892k,mode=755,inode64)
nsfs on /run/snapd/ns/snapd-desktop-integration.mnt type nsfs (rw)
tmpfs on /run/user/1000 type tmpfs (rw,nosuid,nodev,relatime,size=400888k,nr_inodes=100222,mode=700,uid=1000,gid=1000,inode64)
portal on /run/user/1000/doc type fuse.portal (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
gvfsd-fuse on /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
nsfs on /run/snapd/ns/firefox.mnt type nsfs (rw)
nsfs on /run/snapd/ns/firmware-updater.mnt type nsfs (rw)
Пн 24 мар 2025 01:25:16 MSK

kisyamane@Ubuntu:~/leti/os$ cat /etc/fstab && date
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7 / ext4 defaults 0 1
Пн 24 мар 2025 01:26:50 MSK

kisyamane@Ubuntu:~/leti/os$ lsblk -f && date
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
loop0                                                                0   100% /snap/core20/2496
loop1                                                                0   100% /snap/core22/1748
loop2                                                                0   100% /snap/code/186
loop3                                                                0   100% /snap/bare/5
loop4                                                                0   100% /snap/firefox/5889
loop5                                                                0   100% /snap/firmware-updater/167
loop6                                                                0   100% /snap/gnome-42-2204/202
loop7                                                                0   100% /snap/gtk-common-themes/1535
loop8                                                                0   100% /snap/snap-store/1248
loop9                                                                0   100% /snap/snapd/23545
loop10                                                               0   100% /snap/snapd-desktop-integration/253
loop11                                                               0   100% /snap/snapd/23771
loop12                                                               0   100% /snap/firefox/5751
sda                                                                           
├─sda1                                                                        
└─sda2 ext4   1.0         dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7   14,9G    34% /
sr0                                                                           
Пн 24 мар 2025 01:27:31 MSK

# Задание 11.2

kisyamane@Ubuntu:~/leti/os$ lsblk -f && date
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
loop0                                                                0   100% /snap/core20/2496
loop1                                                                0   100% /snap/core22/1748
loop2                                                                0   100% /snap/code/186
loop3                                                                0   100% /snap/bare/5
loop4                                                                0   100% /snap/firefox/5889
loop5                                                                0   100% /snap/firmware-updater/167
loop6                                                                0   100% /snap/gnome-42-2204/202
loop7                                                                0   100% /snap/gtk-common-themes/1535
loop8                                                                0   100% /snap/snap-store/1248
loop9                                                                0   100% /snap/snapd/23545
loop10                                                               0   100% /snap/snapd-desktop-integration/253
loop11                                                               0   100% /snap/snapd/23771
loop12                                                               0   100% /snap/firefox/5751
sda                                                                           
├─sda1                                                                        
└─sda2 ext4   1.0         dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7   14,9G    34% /
sr0                                                                           
Пн 24 мар 2025 01:38:46 MSK

kisyamane@Ubuntu:~/leti/os$ findmnt && date
TARGET                         SOURCE        FSTYPE          OPTIONS
/                              /dev/sda2     ext4            rw,relatime
├─/sys                         sysfs         sysfs           rw,nosuid,nodev,noexec,relatime
│ ├─/sys/kernel/security       securityfs    securityfs      rw,nosuid,nodev,noexec,relatime
│ ├─/sys/fs/cgroup             cgroup2       cgroup2         rw,nosuid,nodev,noexec,relatime,nsdelegate,memory_recursive
│ ├─/sys/fs/pstore             pstore        pstore          rw,nosuid,nodev,noexec,relatime
│ ├─/sys/fs/bpf                bpf           bpf             rw,nosuid,nodev,noexec,relatime,mode=700
│ ├─/sys/kernel/debug          debugfs       debugfs         rw,nosuid,nodev,noexec,relatime
│ ├─/sys/kernel/tracing        tracefs       tracefs         rw,nosuid,nodev,noexec,relatime
│ ├─/sys/kernel/config         configfs      configfs        rw,nosuid,nodev,noexec,relatime
│ └─/sys/fs/fuse/connections   fusectl       fusectl         rw,nosuid,nodev,noexec,relatime
├─/proc                        proc          proc            rw,nosuid,nodev,noexec,relatime
│ └─/proc/sys/fs/binfmt_misc   systemd-1     autofs          rw,relatime,fd=32,pgrp=1,timeout=0,minproto=5,maxproto=5,di
│   └─/proc/sys/fs/binfmt_misc binfmt_misc   binfmt_misc     rw,nosuid,nodev,noexec,relatime
├─/dev                         udev          devtmpfs        rw,nosuid,relatime,size=1966756k,nr_inodes=491689,mode=755,
│ ├─/dev/pts                   devpts        devpts          rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000
│ ├─/dev/shm                   tmpfs         tmpfs           rw,nosuid,nodev,inode64
│ ├─/dev/mqueue                mqueue        mqueue          rw,nosuid,nodev,noexec,relatime
│ └─/dev/hugepages             hugetlbfs     hugetlbfs       rw,nosuid,nodev,relatime,pagesize=2M
├─/run                         tmpfs         tmpfs           rw,nosuid,nodev,noexec,relatime,size=400892k,mode=755,inode
│ ├─/run/lock                  tmpfs         tmpfs           rw,nosuid,nodev,noexec,relatime,size=5120k,inode64
│ ├─/run/snapd/ns              tmpfs[/snapd/ns]
│ │                                          tmpfs           rw,nosuid,nodev,noexec,relatime,size=400892k,mode=755,inode
│ │ ├─/run/snapd/ns/snapd-desktop-integration.mnt
│ │ │                          nsfs[mnt:[4026532435]]
│ │ │                                        nsfs            rw
│ │ ├─/run/snapd/ns/firefox.mnt
│ │ │                          nsfs[mnt:[4026532257]]
│ │ │                                        nsfs            rw
│ │ └─/run/snapd/ns/firmware-updater.mnt
│ │                            nsfs[mnt:[4026532960]]
│ │                                          nsfs            rw
│ └─/run/user/1000             tmpfs         tmpfs           rw,nosuid,nodev,relatime,size=400888k,nr_inodes=100222,mode
│   ├─/run/user/1000/doc       portal        fuse.portal     rw,nosuid,nodev,relatime,user_id=1000,group_id=1000
│   └─/run/user/1000/gvfs      gvfsd-fuse    fuse.gvfsd-fuse rw,nosuid,nodev,relatime,user_id=1000,group_id=1000
├─/snap/core20/2496            /dev/loop0    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/bare/5                 /dev/loop3    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/code/186               /dev/loop2    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/core22/1748            /dev/loop1    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/firefox/5889           /dev/loop4    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/firmware-updater/167   /dev/loop5    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/gnome-42-2204/202      /dev/loop6    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/gtk-common-themes/1535 /dev/loop7    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/snap-store/1248        /dev/loop8    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/snapd/23545            /dev/loop9    squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/snapd-desktop-integration/253
│                              /dev/loop10   squashfs        ro,nodev,relatime,errors=continue,threads=single
├─/snap/snapd/23771            /dev/loop11   squashfs        ro,nodev,relatime,errors=continue,threads=single
└─/snap/firefox/5751           /dev/loop12   squashfs        ro,nodev,relatime,errors=continue,threads=single
Пн 24 мар 2025 02:02:05 MSK

kisyamane@Ubuntu:~/leti/os$ cat /etc/fstab && date
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/sda2 during curtin installation
/dev/disk/by-uuid/dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7 / ext4 defaults 0 1
Пн 24 мар 2025 02:03:43 MSK

kisyamane@Ubuntu:~/leti/os$ lsblk -f && date
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
loop0                                                                0   100% /snap/core20/2496
loop1                                                                0   100% /snap/core22/1748
loop2                                                                0   100% /snap/code/186
loop3                                                                0   100% /snap/bare/5
loop4                                                                0   100% /snap/firefox/5889
loop5                                                                0   100% /snap/firmware-updater/167
loop6                                                                0   100% /snap/gnome-42-2204/202
loop7                                                                0   100% /snap/gtk-common-themes/1535
loop8                                                                0   100% /snap/snap-store/1248
loop9                                                                0   100% /snap/snapd/23545
loop10                                                               0   100% /snap/snapd-desktop-integration/253
loop11                                                               0   100% /snap/snapd/23771
loop12                                                               0   100% /snap/firefox/5751
sda                                                                           
├─sda1                                                                        
└─sda2 ext4   1.0         dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7   14,9G    34% /
sdb                                                                           
└─sdb1 vfat   FAT32       26C1-9559    
sr0                                                                           
Пн 24 мар 2025 02:07:04 MSK

kisyamane@Ubuntu:~/leti/os$ sudo mount /dev/sdb /media/kisyamane/26C1-9559 && date
Пн 24 мар 2025 02:08:01 MSK

kisyamane@Ubuntu:~/leti/os$ lsblk -f && date
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
loop0                                                                0   100% /snap/core20/2496
loop1                                                                0   100% /snap/core22/1748
loop2                                                                0   100% /snap/code/186
loop3                                                                0   100% /snap/bare/5
loop4                                                                0   100% /snap/firefox/5889
loop5                                                                0   100% /snap/firmware-updater/167
loop6                                                                0   100% /snap/gnome-42-2204/202
loop7                                                                0   100% /snap/gtk-common-themes/1535
loop8                                                                0   100% /snap/snap-store/1248
loop9                                                                0   100% /snap/snapd/23545
loop10                                                               0   100% /snap/snapd-desktop-integration/253
loop11                                                               0   100% /snap/snapd/23771
loop12                                                               0   100% /snap/firefox/5751
sda                                                                           
├─sda1                                                                        
└─sda2 ext4   1.0         dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7   14,9G    34% /
sdb                                                                           
└─sdb1 vfat   FAT32       26C1-9559                               7,4G     0% /media/kisyamane/26C1-9559
sr0                             
Пн 24 мар 2025 02:08:26 MSK

kisyamane@Ubuntu:~/leti/os$ sudo umount /media/kisyamane/26C1-9559 && date
Пн 24 мар 2025 02:20:26 MSK
kisyamane@Ubuntu:~/leti/os$ lsblk -f && date
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
loop0                                                                0   100% /snap/core20/2496
loop1                                                                0   100% /snap/core22/1748
loop2                                                                0   100% /snap/code/186
loop3                                                                0   100% /snap/bare/5
loop4                                                                0   100% /snap/firefox/5889
loop5                                                                0   100% /snap/firmware-updater/167
loop6                                                                0   100% /snap/gnome-42-2204/202
loop7                                                                0   100% /snap/gtk-common-themes/1535
loop8                                                                0   100% /snap/snap-store/1248
loop9                                                                0   100% /snap/snapd/23545
loop10                                                               0   100% /snap/snapd-desktop-integration/253
loop11                                                               0   100% /snap/snapd/23771
loop12                                                               0   100% /snap/firefox/5751
sda                                                                           
├─sda1                                                                        
└─sda2 ext4   1.0         dd6c058b-d0e6-4c4c-a69a-e1e1472c84c7   14,9G    34% /
sdb                                                                           
└─sdb1 vfat   FAT32       26C1-9559                                           
sr0                                                                           
Пн 24 мар 2025 02:22:56 MSK

# Задание 11.3

kisyamane@Ubuntu:~/leti/os$ cat /usr/include/linux/limits.h && date
/* SPDX-License-Identifier: GPL-2.0 WITH Linux-syscall-note */
#ifndef _LINUX_LIMITS_H
#define _LINUX_LIMITS_H

#define NR_OPEN         1024

#define NGROUPS_MAX    65536    /* supplemental group IDs are available */
#define ARG_MAX       131072    /* # bytes of args + environ for exec() */
#define LINK_MAX         127    /* # links a file may have */
#define MAX_CANON        255    /* size of the canonical input queue */
#define MAX_INPUT        255    /* size of the type-ahead buffer */
#define NAME_MAX         255    /* # chars in a file name */
#define PATH_MAX        4096    /* # chars in a path name including nul */
#define PIPE_BUF        4096    /* # bytes in atomic write to a pipe */
#define XATTR_NAME_MAX   255    /* # chars in an extended attribute name */
#define XATTR_SIZE_MAX 65536    /* size of an extended attribute value (64k) */
#define XATTR_LIST_MAX 65536    /* size of extended attribute namelist (64k) */

#define RTSIG_MAX         32

#endif
Пн 24 мар 2025 02:33:17 MSK

# Задание 12

kisyamane@Ubuntu:~/leti/os$ date
Пн 24 мар 2025 02:34:32 MSK

# Задание 12.1

kisyamane@Ubuntu:~/leti/os$ hexdump -C /usr/share/file/magic.mgc | grep -E "ELF" && date
000907f0  7f 45 4c 46 00 00 00 00  00 00 00 00 00 00 00 00  |.ELF............|
00090870  45 4c 46 00 00 00 00 00  00 00 00 00 00 00 00 00  |ELF.............|
0049ea00  1e 00 00 00 00 00 00 00  d3 45 4c 46 2d 45 d8 54  |.........ELF-E.T|
005fc190  d3 45 4c 46 2d 45 d8 54  52 41 43 54 49 4e 47 2d  |.ELF-E.TRACTING-|
0063d7e0  6f 77 65 72 20 45 4c 46  20 56 31 20 41 42 49 2c  |ower ELF V1 ABI,|
0063dac0  4f 70 65 6e 50 4f 57 45  52 20 45 4c 46 20 56 32  |OpenPOWER ELF V2|
Пн 24 мар 2025 02:47:48 MSK
kisyamane@Ubuntu:~/leti/os$ hexdump -Cn 64 a.out && date
00000000  7f 45 4c 46 02 01 01 00  00 00 00 00 00 00 00 00  |.ELF............|
00000010  03 00 3e 00 01 00 00 00  40 10 00 00 00 00 00 00  |..>.....@.......|
00000020  40 00 00 00 00 00 00 00  60 36 00 00 00 00 00 00  |@.......`6......|
00000030  00 00 00 00 40 00 38 00  0d 00 40 00 1d 00 1c 00  |....@.8...@.....|
00000040
Пн 24 мар 2025 02:47:58 MSK

# Задание 12.2

kisyamane@Ubuntu:~/leti/os$ file gateway && date
gateway: setuid ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=ea75dc87e5ed9db3c464c2b0900a20782991f0de, for GNU/Linux 3.2.0, not stripped
Пн 24 мар 2025 02:52:31 MSK
kisyamane@Ubuntu:~/leti/os$ file -b gateway && date
setuid ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=ea75dc87e5ed9db3c464c2b0900a20782991f0de, for GNU/Linux 3.2.0, not stripped
Пн 24 мар 2025 02:52:42 MSK
kisyamane@Ubuntu:~/leti/os$ file -r gateway.c && date
gateway.c: C source, Unicode text, UTF-8 text
Пн 24 мар 2025 02:54:18 MSK
kisyamane@Ubuntu:~/leti/os$ file -i gateway.c && date
gateway.c: text/x-c; charset=utf-8
Пн 24 мар 2025 02:54:34 MSK

# Задание 12.3

kisyamane@Ubuntu:~/leti/os$ sudo vim /etc/magic && date
Пн 24 мар 2025 03:03:49 MSK
kisyamane@Ubuntu:~/leti/os$ cat /etc/magic | grep MAGIC_NUMBER && date
0 string MAGIC_NUMBER NEW_TYPE

kisyamane@Ubuntu:~/leti/os$ echo "MAGIC_NUMBER" > myfile && date
Пн 24 мар 2025 03:06:45 MSK
kisyamane@Ubuntu:~/leti/os$ file myfile  && date
myfile: NEW_TYPE
Пн 24 мар 2025 03:06:55 MSK
